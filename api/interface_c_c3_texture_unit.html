<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Cocos3D: Cocos3D API reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-cocos3d.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">
	   <a href="http://cocos3d.org"><img src="http://cocos3d.org/images/cocos3d-Banner-55h.png" /></a>
	   <span id="projectnumber">v2.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_c_c3_texture_unit-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CC3TextureUnit Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;CC3TextureUnit.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CC3TextureUnit:</div>
<div class="dyncontent">
<div class="center"><img src="interface_c_c3_texture_unit__inherit__graph.png" border="0" usemap="#_c_c3_texture_unit_inherit__map" alt="Inheritance graph"/></div>
<map name="_c_c3_texture_unit_inherit__map" id="_c_c3_texture_unit_inherit__map">
<area shape="rect" id="node6" href="interface_c_c3_bump_map_texture_unit.html" title="A texture unit configured for DOT3 bump&#45;mapping. " alt="" coords="5,229,184,256"/><area shape="rect" id="node7" href="interface_c_c3_configurable_texture_unit.html" title="A texture unit that provides complete flexibility in defining the way the texture will be combined wi..." alt="" coords="209,229,401,256"/><area shape="rect" id="node4" href="protocol_c_c_r_g_b_a_protocol-p.html" title="\&lt;CCRGBAProtocol\&gt;" alt="" coords="277,80,421,107"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a64102884cd754d6ab00bb6c1ec7abb11"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c3_texture_unit.html#a64102884cd754d6ab00bb6c1ec7abb11">bindWithVisitor:</a></td></tr>
<tr class="separator:a64102884cd754d6ab00bb6c1ec7abb11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a0abec59b0f3707e16e67137f75c732b3"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_c_c3_texture_unit.html#a0abec59b0f3707e16e67137f75c732b3">bindDefaultWithVisitor:</a></td></tr>
<tr class="separator:a0abec59b0f3707e16e67137f75c732b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac1af206a124a912ebd4691f74dde06c"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_c_c3_texture_unit.html#aac1af206a124a912ebd4691f74dde06c">textureUnit</a></td></tr>
<tr class="separator:aac1af206a124a912ebd4691f74dde06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a1b1d8044ee320245ef507062fa63e8fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_c3_c_c2_extensions_8h.html#a9ee2c61886665ba64b5de7be1a1bf83d">CCColorRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_c3_texture_unit.html#a1b1d8044ee320245ef507062fa63e8fb">color</a></td></tr>
<tr class="separator:a1b1d8044ee320245ef507062fa63e8fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7facf29b0c9e71ef2806419da2a5ea8"><td class="memItemLeft" align="right" valign="top">ccColor4F&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_c3_texture_unit.html#ab7facf29b0c9e71ef2806419da2a5ea8">constantColor</a></td></tr>
<tr class="separator:ab7facf29b0c9e71ef2806419da2a5ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a379387a533ce78ce2851e3b08f544a78"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_c3_texture_unit.html#a379387a533ce78ce2851e3b08f544a78">isBumpMap</a></td></tr>
<tr class="separator:a379387a533ce78ce2851e3b08f544a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb9e17a8bf07b9fafce1df5165eb81a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_c3_vector.html">CC3Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_c3_texture_unit.html#a4bb9e17a8bf07b9fafce1df5165eb81a">lightDirection</a></td></tr>
<tr class="separator:a4bb9e17a8bf07b9fafce1df5165eb81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04357dccf1f8067803b1fd9a6eb9caa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_c3_c_c2_extensions_8h.html#aa13d5a16c4c3791576122915480e1772">CCOpacity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_c3_texture_unit.html#aa04357dccf1f8067803b1fd9a6eb9caa">opacity</a></td></tr>
<tr class="separator:aa04357dccf1f8067803b1fd9a6eb9caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfeb0278661856f2903524b64e2a5c08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_c3_texture_unit_8h.html#a3abfbc20c3346f0b31489dd7921758c3">CC3DOT3RGB</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_c3_texture_unit.html#abfeb0278661856f2903524b64e2a5c08">rgbNormalMap</a></td></tr>
<tr class="separator:abfeb0278661856f2903524b64e2a5c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af668b18e92a1b57851cd29833af22ccd"><td class="memItemLeft" align="right" valign="top">GLenum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_c3_texture_unit.html#af668b18e92a1b57851cd29833af22ccd">textureEnvironmentMode</a></td></tr>
<tr class="separator:af668b18e92a1b57851cd29833af22ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>In fixed rendering pipeline (without shaders), <a class="el" href="interface_c_c3_texture_unit.html" title="In fixed rendering pipeline (without shaders), CC3TextureUnit is used by certain classes in the CC3Te...">CC3TextureUnit</a> is used by certain classes in the <a class="el" href="interface_c_c3_texture.html" title="The root class of a class cluster representing textures. ">CC3Texture</a> class-cluster to configure the GL texture environment to which the texture is being applied. </p>
<p>Notably, the texture unit defines how the texture is to be combined with textures from other texture units in a multi-texture layout.</p>
<p><a class="el" href="interface_c_c3_texture_unit.html" title="In fixed rendering pipeline (without shaders), CC3TextureUnit is used by certain classes in the CC3Te...">CC3TextureUnit</a> is not typically used in a programmable rendering pipeline containing GLSL shaders. However, for certain techniques, such as object-space bump-mapping, a <a class="el" href="interface_c_c3_texture_unit.html" title="In fixed rendering pipeline (without shaders), CC3TextureUnit is used by certain classes in the CC3Te...">CC3TextureUnit</a> can be used to carry additional environmental parameters for the shaders.</p>
<p>With fixed-pipeline multi-texturing, several textures can be overlaid and combined in interesting ways onto a single material. Each texture is processed by a GL texture unit, and is combined with the textures already processed by other texture units. The source and type of combining operation can be individually configured by subclasses of this class. Support for bump-mapping as one of these combining configurations is explicitly provided by the <a class="el" href="interface_c_c3_bump_map_texture_unit.html" title="A texture unit configured for DOT3 bump-mapping. ">CC3BumpMapTextureUnit</a> subclass.</p>
<p>This base <a class="el" href="interface_c_c3_texture_unit.html" title="In fixed rendering pipeline (without shaders), CC3TextureUnit is used by certain classes in the CC3Te...">CC3TextureUnit</a> class permits setting a variety of texture environment modes via the textureEnvironmentMode property. For the full range of configuration flexibility, the <a class="el" href="interface_c_c3_configurable_texture_unit.html" title="A texture unit that provides complete flexibility in defining the way the texture will be combined wi...">CC3ConfigurableTextureUnit</a> subclass contains the full range of configuration properties associated with the GL_COMBINE texture environment mode. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a0abec59b0f3707e16e67137f75c732b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) bindDefaultWithVisitor: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_c_c3_node_drawing_visitor.html">CC3NodeDrawingVisitor</a> *)&#160;</td>
          <td class="paramname"><em>visitor</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Automatically invoked from <a class="el" href="interface_c_c3_texture.html" title="The root class of a class cluster representing textures. ">CC3Texture</a> when no texture unit configuration is provided in that texture. </p>
<p>In the GL engine, sets the combining function to the default value of GL_MODULATE, and the texture constant color to the default value of kCCC4FBlackTransparent. </p>

</div>
</div>
<a class="anchor" id="a64102884cd754d6ab00bb6c1ec7abb11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) bindWithVisitor: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_c_c3_node_drawing_visitor.html">CC3NodeDrawingVisitor</a> *)&#160;</td>
          <td class="paramname"><em>visitor</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Template method that binds the configuration of this texture unit to the GL engine. </p>
<p>The visitor provides additional configuration information that can be used by subclass overrides of this method. </p>

</div>
</div>
<a class="anchor" id="aac1af206a124a912ebd4691f74dde06c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (id) textureUnit </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates and initializes an autoreleased instance. </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a1b1d8044ee320245ef507062fa63e8fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_c_c3_c_c2_extensions_8h.html#a9ee2c61886665ba64b5de7be1a1bf83d">CCColorRef</a>) color</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The constant color of this texture unit, returned as a CCColorRef. </p>
<p>Querying this property returns the RGB components of the constantColor property.</p>
<p>When setting this property, the RGB values are each converted to a floating point number between 0 and 1, and are set into the constantColor property. The alpha component of constantColor remains unchanged. </p>

</div>
</div>
<a class="anchor" id="ab7facf29b0c9e71ef2806419da2a5ea8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (ccColor4F) constantColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The constant color of the texture unit. </p>
<p>This will be used by the combiner when the value of one of the source properties of a subclass is set to GL_CONSTANT. This is often the case for bump-mapping configurations.</p>
<p>Although this property can be set directly, it is rare to do so. Usually, this property is set indirectly via the lightDirection property, which converts the XYZ coordinates of a lighting direction vector into the RGB components of this property.</p>
<p>This property is not used by this parent class implementation, but is provided for common access by subclasses.</p>
<p>The initial value of this property is kCCC4FBlackTransparent. </p>

</div>
</div>
<a class="anchor" id="a379387a533ce78ce2851e3b08f544a78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) isBumpMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether this texture unit is configured as a bump-map. </p>
<p>This implementation always returns NO. Subclasses that support bump-mapping will override this default implementation. </p>

</div>
</div>
<a class="anchor" id="a4bb9e17a8bf07b9fafce1df5165eb81a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="struct_c_c3_vector.html">CC3Vector</a>) lightDirection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The direction, in local tangent coordinates, of the light source that is to interact with subclasses that are configured as bump-maps (aka normal maps). </p>
<p>Bump-maps are textures that store a normal vector (XYZ coordinates) in the RGB components of each texture pixel, instead of color information. These per-pixel normals interact with the value of this lightDirection property (through a dot-product), to determine the luminance of the pixel.</p>
<p>Setting this property changes the value of the constantColor property. The lightDirection vector is normalized and shifted from the range of +/- 1.0 to the range 0.0-1.0. Then each XYZ component in the vector is mapped to the RGB components of the constantColor using the rgbNormalMap property.</p>
<p>Reading this value reads the value from the constantColor property. The RGB components of the color are mapped to the XYZ components of the direction vector using the rgbNormalMap property, and then shifted from the color component range 0.0-1.0 to the directional vector range +/- 1.0.</p>
<p>The value of this property must be in the tangent-space coordinates associated with the texture UV space, in practice, this property is typically not set directly. Instead, you can use the globalLightPosition property of the mesh node that is making use of this texture and texture unit. </p>

</div>
</div>
<a class="anchor" id="aa04357dccf1f8067803b1fd9a6eb9caa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_c_c3_c_c2_extensions_8h.html#aa13d5a16c4c3791576122915480e1772">CCOpacity</a>) opacity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The opacity of this texture unit. </p>
<p>Querying this property returns the alpha component of the constantColor property.</p>
<p>When setting this property, the value is converted to a floating point number between 0 and 1, and is set into the constantColor property. The RGB components of constantColor remain unchanged. </p>

</div>
</div>
<a class="anchor" id="abfeb0278661856f2903524b64e2a5c08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_c_c3_texture_unit_8h.html#a3abfbc20c3346f0b31489dd7921758c3">CC3DOT3RGB</a>) rgbNormalMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When a subclass is configured as a bump-map, this property indicates how the XYZ coordinates of each per-pixel normal are stored in the RGB values of each pixel. </p>
<p>The texture has three slots (R, G &amp; B) in which to store three normal coordinate components (X, Y &amp; Z). This can be done in any of six ways, as indicated by the values of the CC3DOT3RGB enumeration.</p>
<p>The initial value of this property is kCC3DOT3RGB_XYZ, indicating that the X, Y &amp; Z components of the bump-map normals will be stored in the R, G &amp; B coordinates of the texture pixels, respectively. </p>

</div>
</div>
<a class="anchor" id="af668b18e92a1b57851cd29833af22ccd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (GLenum) textureEnvironmentMode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines the texture function to be used when combining this texture unit with the output of the previous texture unit. </p>
<p>This can be set to one of several fixed texture functions (GL_ADD, GL_MODULATE, GL_DECAL, GL_BLEND, GL_REPLACE), in which case the remaining configuration properties of this class are ignored. Setting this property to GL_MODULATE replicates the default behaviour of the <a class="el" href="interface_c_c3_texture.html" title="The root class of a class cluster representing textures. ">CC3Texture</a> class.</p>
<p>If you want to set this property to GL_COMBINE, to open up significant additional configuration flexibility, use the <a class="el" href="interface_c_c3_configurable_texture_unit.html" title="A texture unit that provides complete flexibility in defining the way the texture will be combined wi...">CC3ConfigurableTextureUnit</a> subclass, which contains the full range of configuration properties associated with the GL_COMBINE functionality.</p>
<p>The initial value of this property is GL_MODULATE. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_c_c3_texture_unit_8h.html">CC3TextureUnit.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<address class="footer">
<p class="footer"/>© 2010 - 2014 The Brenwill Workshop Ltd.</p>
</address>
</body>
</html>
